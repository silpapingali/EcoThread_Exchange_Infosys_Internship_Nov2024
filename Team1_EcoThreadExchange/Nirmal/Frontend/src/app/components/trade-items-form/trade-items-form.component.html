<title>Threads & Thrift</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
<nav class="navbar">
  <div class="navbar-left">
    <span class="brand-name">Threads & Thrift</span>
  </div>
  <div class="navbar-right">
    <a href="http://localhost:4200/home" class="nav-link">Dashboard</a>
    <a href="http://localhost:4200/allitems" class="nav-link">Items</a>
    <a href="http://localhost:4200/alltrades" class="nav-link">Trades</a>
    <button (click)="logout()">Logout</button>
  </div>
</nav>

<body id="container">
  <div class="container2">
    <h2>Post a Trade Item</h2>

    <form (ngSubmit)="onSubmit()" #tradeForm="ngForm">
      <div class="form-group">
        <label for="title">Title</label>
        <input
          type="text"
          id="title"
          name="title"
          class="form-control"
          [(ngModel)]="tradeItem.title"
          required
        />
        <div *ngIf="tradeForm.controls['title']?.invalid && tradeForm.controls['title']?.touched" class="text-danger">
          Title is required.
        </div>
      </div>

      <div class="form-group">
        <label for="size">Size</label>
        <input
          type="text"
          id="size"
          name="size"
          class="form-control"
          [(ngModel)]="tradeItem.size"
          required
        />
        <div *ngIf="tradeForm.controls['size']?.invalid && tradeForm.controls['size']?.touched" class="text-danger">
          Size is required.
        </div>
      </div>

      <div class="form-group">
        <label for="condition">Condition</label>
        <input
          type="text"
          id="condition"
          name="condition"
          class="form-control"
          [(ngModel)]="tradeItem.condition"
          required
        />
        <div *ngIf="tradeForm.controls['condition']?.invalid && tradeForm.controls['condition']?.touched" class="text-danger">
          Condition is required.
        </div>
      </div>

      <div class="form-group">
        <label for="preferences">Preferences (comma-separated eg:shirt,pant,hoodie)</label>
        <input
          type="text"
          id="preferences"
          name="preferences"
          class="form-control"
          [(ngModel)]="tradeItem.preferences"
        /><div *ngIf="tradeForm.controls['preferences']?.invalid && tradeForm.controls['preferences']?.touched" class="text-danger">
          preferences is required.
        </div>
      </div>

      <div class="form-group">
        <label for="username">Username</label>
        <input
          type="text"
          id="username"
          name="username"
          class="form-control"
          [(ngModel)]="tradeItem.username"
          required
        />
        <div *ngIf="tradeForm.controls['username']?.invalid && tradeForm.controls['username']?.touched" class="text-danger">
          Username is required.
        </div>
      </div>

      <div class="form-group">
        <label for="images">Images</label>
        <input
          type="file"
          id="images"
          name="images"
          class="form-control"
          (change)="onFileChange($event)"
          multiple
        />
        <div *ngIf="selectedFiles.length === 0 && tradeForm.touched" class="text-danger">
          At least one image is required.
        </div>
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="!tradeForm.form.valid">
        Submit
      </button>
    </form>

    <div *ngIf="message" class="alert alert-info mt-3">
      {{ message }}
    </div>
  </div>
</body>
